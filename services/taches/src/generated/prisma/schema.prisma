generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["taches"]
}

model task_assignments {
  task_id     Int
  member_id   String    @db.VarChar(50)
  assigned_at DateTime? @default(now()) @db.Timestamp(6)
  tasks       tasks     @relation(fields: [task_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@id([task_id, member_id])
  @@schema("taches")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model tasks {
  id               Int                @id @default(autoincrement())
  title            String
  description      String?
  due_date         DateTime           @db.Date
  status           String             @default("to_do")
  created_at       DateTime?          @default(now()) @db.Timestamp(6)
  updated_at       DateTime?          @default(now()) @db.Timestamp(6)
  task_assignments task_assignments[]

  @@schema("taches")
}
